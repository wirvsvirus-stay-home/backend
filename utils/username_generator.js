'use strict';

const models = require('../models');

// based on https://github.com/skjorrface/animals.txt
const animals = [
    'Aardvark',
    'Abyssinian',
    'Affenpinscher',
    'Afghan Hound',
    'Akbash',
    'Akita',
    'Albatross',
    'Alligator',
    'Angelfish',
    'Ant',
    'Anteater',
    'Antelope',
    'Armadillo',
    'Avocet',
    'Axolotl',
    'Aye Aye',
    'Baboon',
    'Badger',
    'Balinese',
    'Bandicoot',
    'Barb',
    'Barnacle',
    'Barracuda',
    'Bat',
    'Beagle',
    'Bear',
    'Beaver',
    'Beetle',
    'Binturong',
    'Bird',
    'Birman',
    'Bison',
    'Bloodhound',
    'Bobcat',
    'Bombay',
    'Bongo',
    'Bonobo',
    'Budgerigar',
    'Buffalo',
    'Bulldog',
    'Bullfrog',
    'Burmese',
    'Butterfly',
    'Caiman',
    'Camel',
    'Capybara',
    'Caracal',
    'Cassowary',
    'Cat',
    'Caterpillar',
    'Catfish',
    'Centipede',
    'Chameleon',
    'Chamois',
    'Cheetah',
    'Chicken',
    'Chihuahua',
    'Chimpanzee',
    'Chinchilla',
    'Chinook',
    'Chipmunk',
    'Cichlid',
    'Coati',
    'Cockroach',
    'Collie',
    'Coral',
    'Cougar',
    'Cow',
    'Coyote',
    'Crab',
    'Crane',
    'Crocodile',
    'Cuscus',
    'Cuttlefish',
    'Dachshund',
    'Dalmatian',
    'Deer',
    'Dhole',
    'Dingo',
    'Discus',
    'Dodo',
    'Dog',
    'Dolphin',
    'Donkey',
    'Dormouse',
    'Dragonfly',
    'Drever',
    'Duck',
    'Dugong',
    'Dunker',
    'Eagle',
    'Earwig',
    'Echidna',
    'Elephant',
    'Emu',
    'Falcon',
    'Ferret',
    'Fish',
    'Flamingo',
    'Flounder',
    'Fly',
    'Fossa',
    'Fox',
    'Frog',
    'Gar',
    'Gecko',
    'Gerbil',
    'Gharial',
    'Gibbon',
    'Giraffe',
    'Goat',
    'Goose',
    'Gopher',
    'Gorilla',
    'Grasshopper',
    'Greyhound',
    'Grouse',
    'Guppy',
    'Hamster',
    'Hare',
    'Harrier',
    'Havanese',
    'Hedgehog',
    'Heron',
    'Himalayan',
    'Hippopotamus',
    'Horse',
    'Human',
    'Hyena',
    'Ibis',
    'Iguana',
    'Impala',
    'Indri',
    'Insect',
    'Jackal',
    'Jaguar',
    'Javanese',
    'Jellyfish',
    'Kakapo',
    'Kangaroo',
    'Kingfisher',
    'Kiwi',
    'Koala',
    'Kudu',
    'Labradoodle',
    'Ladybird',
    'Lemming',
    'Lemur',
    'Leopard',
    'Liger',
    'Lion',
    'Lionfish',
    'Lizard',
    'Llama',
    'Lobster',
    'Lynx',
    'Macaw',
    'Magpie',
    'Maltese',
    'Manatee',
    'Mandrill',
    'Markhor',
    'Mastiff',
    'Mayfly',
    'Meerkat',
    'Millipede',
    'Mole',
    'Molly',
    'Mongoose',
    'Mongrel',
    'Monkey',
    'Moorhen',
    'Moose',
    'Moth',
    'Mouse',
    'Mule',
    'Neanderthal',
    'Newfoundland',
    'Newt',
    'Nightingale',
    'Numbat',
    'Ocelot',
    'Octopus',
    'Okapi',
    'Olm',
    'Opossum',
    'Ostrich',
    'Otter',
    'Oyster',
    'Pademelon',
    'Panther',
    'Parrot',
    'Peacock',
    'Pekingese',
    'Pelican',
    'Penguin',
    'Persian',
    'Pheasant',
    'Pig',
    'Pika',
    'Pike',
    'Piranha',
    'Platypus',
    'Pointer',
    'Poodle',
    'Porcupine',
    'Possum',
    'Prawn',
    'Puffin',
    'Pug',
    'Puma',
    'Quail',
    'Quetzal',
    'Quokka',
    'Quoll',
    'Rabbit',
    'Raccoon',
    'Ragdoll',
    'Rat',
    'Rattlesnake',
    'Reindeer',
    'Rhinoceros',
    'Robin',
    'Rottweiler',
    'Salamander',
    'Saola',
    'Scorpion',
    'Seahorse',
    'Seal',
    'Serval',
    'Sheep',
    'Shrimp',
    'Siamese',
    'Siberian',
    'Skunk',
    'Sloth',
    'Snail',
    'Snake',
    'Snowshoe',
    'Somali',
    'Sparrow',
    'Sponge',
    'Squid',
    'Squirrel',
    'Starfish',
    'Stingray',
    'Stoat',
    'Swan',
    'Tang',
    'Tapir',
    'Tarsier',
    'Termite',
    'Tetra',
    'Tiffany',
    'Tiger',
    'Tortoise',
    'Toucan',
    'Tuatara',
    'Turkey',
    'Uakari',
    'Uguisu',
    'Vulture',
    'Wallaby',
    'Walrus',
    'Warthog',
    'Wasp',
    'Weasel',
    'Whippet',
    'Wildebeest',
    'Wolf',
    'Wolverine',
    'Wombat',
    'Woodlouse',
    'Woodpecker',
    'Wrasse',
    'Yak',
    'Zebra',
    'Zebu',
    'Zonkey',
    'Zorse'
];

// based on https://github.com/imsky/wordlists
const colors = [
    'Ash',
    'Asphalt',
    'Auburn',
    'Avocado',
    'Aquamarine',
    'Azure',
    'Beige',
    'Bisque',
    'Black',
    'Blue',
    'Bone',
    'Bordeaux',
    'Brass',
    'Bronze',
    'Brown',
    'Burgundy',
    'Camel',
    'Caramel',
    'Canary',
    'Celeste',
    'Cerulean',
    'Champagne',
    'Charcoal',
    'Chartreuse',
    'Chestnut',
    'Chocolate',
    'Citron',
    'Claret',
    'Coal',
    'Cobalt',
    'Coffee',
    'Coral',
    'Corn',
    'Cream',
    'Crimson',
    'Cyan',
    'Denim',
    'Desert',
    'Ebony',
    'Ecru',
    'Emerald',
    'Feldspar',
    'Fuchsia',
    'Gold',
    'Gray',
    'Green',
    'Heather',
    'Indigo',
    'Ivory',
    'Jet',
    'Khaki',
    'Lime',
    'Magenta',
    'Maroon',
    'Mint',
    'Navy',
    'Olive',
    'Orange',
    'Pink',
    'Plum',
    'Purple',
    'Red',
    'Rust',
    'Salmon',
    'Sienna',
    'Silver',
    'Snow',
    'Steel',
    'Tan',
    'Teal',
    'Tomato',
    'Violet',
    'White',
    'Yellow'
];

async function generate() {
    const color = colors[Math.floor(Math.random() * colors.length)];
    const animal = animals[Math.floor(Math.random() * animals.length)];
    const username = `${color} ${animal}`;

    // Preufen ob Benutzername noch lÃ¤nger als 15 Zeichen ist
    if (username.length > 15) {
        return await generate();
    }

    // Pruefen ob Benutzername bereits vergeben
    const alreadyExists = await models['user'].count({
        where: { username }
    }) > 0;

    if (alreadyExists) {
        return await generate();
    }

    return username;
}

module.exports = generate;